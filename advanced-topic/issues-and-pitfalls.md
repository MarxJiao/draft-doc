# 问题和陷阱

这篇文章记录一些Draft的已知问题和我们在Facebook使用这个框架时容易遇到的一些陷阱。

## 常见的陷阱

### 延迟的状态更新

一个单向数据管理常见的模式是使用setTimeout或其它机制批量或延迟数据状态的更新。状态更新后发送到相关的React组件来渲染。

当延迟被引入到使用Draft的React应用时，有可能造成比较大的交互问题。这是因为编辑器期望当用户输入时，状态以同步的方式立即更新和渲染。延迟会阻止更新内容通过编辑器向组件树传播，这会导致打字输入和内容更新之间断开连接。

为了避免这种情况，仍然使用延迟或者批量处理机制，你应该将编辑器状态的传播和延迟行为分开。也就是说，你必须允许你的`EditorState`传播到`Editor`组件，并且独立执行而不影响Editor组件状态的分批更新。

### 丢失Draft.css

Draft包含了少量的CSS资源，可以通过Draft.css使用。

当渲染编辑器的时候，这个css文件应该被包含在项目中，这个css文件设置了默认的文本对齐方式，空格和一些其它的重要特性。没有它，你可能会在块级定位，对齐，和光标表现上遇到问题。

如果你想写你自己的Draft.css，你可能需要复制大部分的默认样式。

## 已知问题

### 自定义OSX按键绑定

因为浏览器没有接触系统级自定义按键
